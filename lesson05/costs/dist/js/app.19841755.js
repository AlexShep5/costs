(function(){"use strict";var t={521:function(t,e,a){var n=a(6369),s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("nav",[e("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" | "),e("router-link",{attrs:{to:"/about"}},[t._v("About")])],1),e("h1",{staticClass:"appTitle"},[t._v("My personal costs")]),e("router-view")],1)},r=[],o={name:"App",data(){return{}},created(){const t=[{id:1,date:"20.03.2020",category:"food",value:169},{id:2,date:"21.03.2020",category:"navigation",value:50},{id:3,date:"22.03.2020",category:"sport",value:450},{id:4,date:"23.03.2020",category:"entertiment",value:969},{id:5,date:"24.03.2020",category:"education",value:1500},{id:6,date:"25.03.2020",category:"food",value:200}];this.$store.dispatch("fetchData",t)}},i=o,u=a(1001),c=(0,u.Z)(i,s,r,!1,null,null,null),l=c.exports,d=(a(7658),a(3822));n.ZP.use(d.ZP);var m=new d.ZP.Store({state:{categoriesList:["education","entertiment","food","navigation","sport"],paymentsList:[]},getters:{getPaymentsList:t=>t.paymentsList,getCategoriesList:t=>t.categoriesList},mutations:{addPayment:(t,e)=>{t.paymentsList.push(e)},setPaymentsList:(t,e)=>{t.paymentsList=e}},actions:{fetchData({commit:t},e){return new Promise((t=>{setTimeout((()=>{t(e)}),1e3)})).then((e=>{t("setPaymentsList",e)}))}},modules:{}}),p=a(2631),h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("div",{staticClass:"payments"},[e("ShowFormButton",{on:{showForm:t.showForm}}),e("div",{staticClass:"addRefs"},[e("router-link",{staticClass:"addRef",attrs:{to:"/add/payment/sport/200"}},[t._v("sport 200")]),e("router-link",{staticClass:"addRef",attrs:{to:"/add/payment/food/300"}},[t._v("food 300")]),e("router-link",{staticClass:"addRef",attrs:{to:"/add/payment/entertiment/400"}},[t._v("entertiment 400")])],1),e("PaymentsDisplay",{staticClass:"paymentList"})],1)])},g=[],v=function(){var t=this,e=t._self._c;return e("div",{staticClass:"list"},[t._m(0),t._l(t.items,(function(a,n){return e("div",{directives:[{name:"show",rawName:"v-show",value:n>=t.minIndex&&n<=t.maxIndex,expression:"index >= minIndex && index <= maxIndex"}],key:n,staticClass:"list__item"},[e("span",{staticClass:"list__number"},[t._v(t._s(n+1))]),e("span",{staticClass:"list__date"},[t._v(t._s(a.date))]),e("span",{staticClass:"list__category"},[t._v(t._s(a.category))]),e("span",{staticClass:"list__value"},[t._v(t._s(a.value))])])})),e("NavPaginator",{staticClass:"navPaginator",attrs:{pagesNum:t.pagesNum,itemsNum:t.itemsNum},on:{changePage:t.changePage}})],2)},f=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"list__item"},[e("span",{staticClass:"list__number"},[e("b",[t._v("#")])]),e("span",{staticClass:"list__date"},[e("b",[t._v("Date")])]),e("span",{staticClass:"list__category"},[e("b",[t._v("Category")])]),e("span",{staticClass:"list__value"},[e("b",[t._v("Value")])])])}],_=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.pagesNum>1,expression:"pagesNum > 1"}],staticClass:"paginator"},[e("span",{staticClass:"paginator__page",on:{click:t.onPrevPageClick}},[t._v("<")]),t._l(t.pagesNum,(function(a){return e("span",{key:a,staticClass:"paginator__page",on:{click:function(e){return t.onPageClick(a)}}},[t._v(t._s(a))])})),e("span",{staticClass:"paginator__page",on:{click:t.onNextPageClick}},[t._v(">")])],2)},y=[],P={name:"NavPaginator",props:{pagesNum:{type:Number,default(){return 1}},itemsNum:{type:Number,default(){return 0}}},data(){return{container:null,currentPage:1}},methods:{pageFocus(){const t=this.container.querySelectorAll(".paginator__page");for(const e of t)e.classList.remove("selectPage");this.container.querySelector(`.paginator__page:nth-child(${this.currentPage+1})`).classList.add("selectPage")},onPageClick(t){this.currentPage=t,this.pageFocus(),this.$emit("changePage",this.currentPage)},onPrevPageClick(){this.currentPage>1&&(this.currentPage--,this.pageFocus(),this.$emit("changePage",this.currentPage))},onNextPageClick(){this.currentPage<this.pagesNum&&(this.currentPage++,this.pageFocus(),this.$emit("changePage",this.currentPage))}},mounted(){this.container=document.querySelector(".paginator"),this.currentPage=this.pagesNum,this.pageFocus()},updated(){this.currentPage=this.pagesNum,this.pageFocus()}},C=P,b=(0,u.Z)(C,_,y,!1,null,null,null),w=b.exports,k={name:"PaymentsDisplay",components:{NavPaginator:w},props:{},watch:{items:function(){this.currentPage=this.pagesNum}},data(){return{currentPage:1,recordsInPage:5}},methods:{changePage(t){this.currentPage=t}},computed:{minIndex(){return(this.currentPage-1)*this.recordsInPage},maxIndex(){return this.minIndex+this.recordsInPage-1},pagesNum(){return Math.ceil(this.items.length/this.recordsInPage)},itemsNum(){return this.items.length},items(){return this.$store.getters.getPaymentsList}},mounted(){this.currentPage=this.pagesNum}},N=k,x=(0,u.Z)(N,v,f,!1,null,null,null),F=x.exports,$=function(){var t=this,e=t._self._c;return e("div",{staticClass:"showBtn"},[e("button",{staticClass:"showBtn__button",on:{click:t.onShowClick}},[t._v("ADD NEW COST")])])},L=[],A={name:"ShowFormButton",data(){return{}},methods:{onShowClick(){this.$emit("showForm")}}},S=A,O=(0,u.Z)(S,$,L,!1,null,null,null),D=O.exports,Z={name:"HomeView",components:{PaymentsDisplay:F,ShowFormButton:D},data(){return{paymentsList:[]}},methods:{showForm(){this.$router.push({name:"addPayment"})},closeForm(){this.formVisible=!1}},mounted(){const t=document.querySelectorAll(".addRef");t.forEach((t=>{t.addEventListener("click",(e=>{e.preventDefault(),this.$router.push({name:"addPayment",params:{category:t.dataset.category,value:t.dataset.value}})}))}))}},j=Z,T=(0,u.Z)(j,h,g,!1,null,null,null),I=T.exports,E=function(){var t=this,e=t._self._c;return e("div",{staticClass:"add"},[e("AddPaymentForm",{staticClass:"addForm",attrs:{visible:t.formVisible},on:{addNewPayment:t.addNewPayment,closeForm:t.closeForm}})],1)},B=[],M=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"form"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"form__select",attrs:{name:"category",onfocus:"style='color: black'"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.category=e.target.multiple?a:a[0]}}},[e("option",{staticClass:"form__optionTitle",attrs:{selected:"",disabled:"",value:""}},[t._v("Select payment description")]),t._l(t.categories,(function(a,n){return e("option",{key:n,staticClass:"form__option",domProps:{value:a}},[t._v(t._s(a))])}))],2),e("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"form__input",attrs:{placeholder:"Payment amount"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],staticClass:"form__input",attrs:{placeholder:"Payment date"},domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}}),e("div",{staticClass:"form__buttons"},[e("button",{staticClass:"form__btn",on:{click:t.onCloseClick}},[t._v("CLOSE")]),e("button",{staticClass:"form__btn",on:{click:t.onAddClick}},[t._v("ADD")])])])},q=[],R={name:"AddPaymentForm",props:{visible:{type:Boolean,default(){return!1}}},data(){return{value:"",category:"",date:""}},methods:{onAddClick(){const t=/^\d+$/,e=/^\d{2}.\d{2}.\d{4}$/;if(!this.category)return void alert("Выберите категорию");if(!t.test(this.value))return void alert("Сумма должна быть задана числом!");if(!e.test(this.date)&&this.date)return void alert("Дата должна быть задана в формате: 'дд.мм.гггг'!");const a={value:+this.value,category:this.category,date:this.date||this.getCurrenrDate};this.$emit("addNewPayment",a),this.$emit("closeForm")},onCloseClick(){this.$emit("closeForm")}},computed:{getCurrenrDate(){const t=new Date,e=t.getDate(),a=t.getMonth()+1,n=t.getFullYear();return`${e}.${a}.${n}`},categories(){return this.$store.getters.getCategoriesList}},mounted(){this.value=this.$route.params.value,this.category=this.$route.params.category}},V=R,H=(0,u.Z)(V,M,q,!1,null,null,null),W=H.exports,Y={name:"AddPaymentPage",components:{AddPaymentForm:W},data(){return{formVisible:!0}},methods:{addNewPayment(t){this.$store.commit("addPayment",t)},closeForm(){this.$router.push({name:"home"})}}},z=Y,G=(0,u.Z)(z,E,B,!1,null,null,null),J=G.exports;n.ZP.use(p.ZP);const K=[{path:"/",name:"home",component:I},{path:"/add/payment/:category?/:value?",name:"addPayment",component:J},{path:"/about",name:"about",component:()=>a.e(686).then(a.bind(a,9686))},{path:"*",name:"error404",component:()=>a.e(294).then(a.bind(a,1294))}],Q=new p.ZP({mode:"history",base:"/",routes:K});var U=Q;n.ZP.config.productionTip=!1,new n.ZP({template:"<App/>",components:{App:l},store:m,router:U,render:t=>t(l)}).$mount("#app")}},e={};function a(n){var s=e[n];if(void 0!==s)return s.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,n,s,r){if(!n){var o=1/0;for(l=0;l<t.length;l++){n=t[l][0],s=t[l][1],r=t[l][2];for(var i=!0,u=0;u<n.length;u++)(!1&r||o>=r)&&Object.keys(a.O).every((function(t){return a.O[t](n[u])}))?n.splice(u--,1):(i=!1,r<o&&(o=r));if(i){t.splice(l--,1);var c=s();void 0!==c&&(e=c)}}return e}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[n,s,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,n){return a.f[n](t,e),e}),[]))}}(),function(){a.u=function(t){return"js/"+t+"."+{294:"b43ea8b0",686:"f58c2ec8"}[t]+".js"}}(),function(){a.miniCssF=function(t){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="costs:";a.l=function(n,s,r,o){if(t[n])t[n].push(s);else{var i,u;if(void 0!==r)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==e+r){i=d;break}}i||(u=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",e+r),i.src=n),t[n]=[s];var m=function(e,a){i.onerror=i.onload=null,clearTimeout(p);var s=t[n];if(delete t[n],i.parentNode&&i.parentNode.removeChild(i),s&&s.forEach((function(t){return t(a)})),e)return e(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),u&&document.head.appendChild(i)}}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var t={143:0};a.f.j=function(e,n){var s=a.o(t,e)?t[e]:void 0;if(0!==s)if(s)n.push(s[2]);else{var r=new Promise((function(a,n){s=t[e]=[a,n]}));n.push(s[2]=r);var o=a.p+a.u(e),i=new Error,u=function(n){if(a.o(t,e)&&(s=t[e],0!==s&&(t[e]=void 0),s)){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;i.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",i.name="ChunkLoadError",i.type=r,i.request=o,s[1](i)}};a.l(o,u,"chunk-"+e,e)}},a.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,r,o=n[0],i=n[1],u=n[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(s in i)a.o(i,s)&&(a.m[s]=i[s]);if(u)var l=u(a)}for(e&&e(n);c<o.length;c++)r=o[c],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(l)},n=self["webpackChunkcosts"]=self["webpackChunkcosts"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(521)}));n=a.O(n)})();
//# sourceMappingURL=app.19841755.js.map